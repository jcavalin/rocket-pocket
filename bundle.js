(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
var RocketPocketGame = /** @class */ (function () {
    function RocketPocketGame() {
        this.debug = false;
        this.accelerationX = 200;
        this.accelerationY = 400;
        this.fuelDefault = 500;
        this.fuelLabel = 'Combustível';
        this.gameOverLabel = 'Você perdeu!';
        this.victoryLabel = 'Você conseguiu!';
        this.fuel = this.fuelDefault;
        this.playingSound = false;
        this.ended = false;
        this.game = new Phaser.Game(800, 600, Phaser.AUTO, 'content', {
            preload: this.preload.bind(this),
            create: this.create.bind(this),
            update: this.update.bind(this),
            render: this.render.bind(this)
        });
    }
    RocketPocketGame.prototype.preload = function () {
        this.game.load.spritesheet('rocket', 'img/rocket.png', 50, 75, 3);
        this.game.load.spritesheet('explosion', 'img/explosion.png', 64, 64, 23);
        this.game.load.spritesheet('restart-button', 'img/restart-button.png', 96, 40);
        this.game.load.image('background', 'img/lunar-background.png');
        this.game.load.audio('rocket-audio', ['audio/rocket-launch.mp3']);
        this.game.load.audio('rocket-explosion', ['audio/rocket-explosion.mp3']);
    };
    RocketPocketGame.prototype.create = function () {
        this.game.stage.backgroundColor = '#2d2d2d';
        this.game.physics.startSystem(Phaser.Physics.ARCADE);
        this.cursors = this.game.input.keyboard.createCursorKeys();
        this.background = this.game.add.tileSprite(0, 0, 800, 600, 'background');
        this.background.fixedToCamera = true;
        this.game.world.setBounds(0, 0, 2000, 600);
        this.rocketAudio = this.game.add.audio('rocket-audio', 1, true);
        this.rocketAudio.allowMultiple = false;
        this.rocketAudio.addMarker('launching', 0, 10);
        this.rocketExplosion = this.game.add.audio('rocket-explosion', 1, true);
        this.rocketExplosion.allowMultiple = false;
        this.rocketExplosion.addMarker('exploding', 0, 10);
        this.fuelText = this.game.add.text(32, 32, this.fuelLabel + ': ' + this.fuel, {
            font: "20px Arial",
            fill: "#ffffff",
            align: "left"
        });
        this.fuelText.fixedToCamera = true;
        this.fuelText.cameraOffset.setTo(32, 32);
        this.graphics = this.game.add.graphics(0, 0);
        this.drawGround();
        this.graphics.beginFill(0x8e8e8e);
        this.graphics.drawPolygon(this.ground.points);
        this.graphics.endFill();
        this.rocket = this.game.add.sprite(50, 1512, 'rocket');
        this.rocket.animations.add('launching', [1, 2, 3], 10, true);
        this.rocket.anchor = new Phaser.Point(0.5, 0.5);
        this.game.physics.enable([this.rocket], Phaser.Physics.ARCADE);
        this.rocket.body.bounce.set(0);
        this.rocket.body.gravity.set(0, 180);
        this.rocket.body.velocity.setTo(0, 200);
        this.rocket.body.collideWorldBounds = true;
        this.game.camera.follow(this.rocket);
        this.game.camera.deadzone = new Phaser.Rectangle(150, 150, 500, 0);
        this.game.camera.focusOnXY(0, 0);
        this.explosion = this.game.add.sprite(0, 0, 'explosion');
        this.explosion.anchor = new Phaser.Point(0.5, 0.5);
        this.explosion.animations.add('exploding', Array.apply(null, { length: 23 }).map(Number.call, Number), 10, false);
        this.explosion.visible = false;
        this.introText = this.game.add.text(400, this.game.world.centerY, '', { font: "40px Arial", fill: "#ffffff", align: "center" });
        this.introText.anchor = new Phaser.Point(0.5, 0.5);
        this.introText.fixedToCamera = true;
        this.introText.visible = false;
        this.restartButton = this.game.add.button(400, this.game.world.centerY + 50, 'restart-button', this.restart, this, 2, 1, 0);
        this.restartButton.anchor = new Phaser.Point(0.5, 0.5);
        this.restartButton.fixedToCamera = true;
        this.restartButton.visible = false;
    };
    RocketPocketGame.prototype.update = function () {
        if (!this.ended && this.checkExplosion()) {
            this.exploding();
        }
        else if (!this.ended && this.checkVictory()) {
            this.victory();
        }
        else if (!this.ended) {
            this.moving();
        }
    };
    RocketPocketGame.prototype.render = function () {
        if (this.debug) {
            this.game.debug.bodyInfo(this.rocket, 32, 32);
            this.game.debug.body(this.rocket);
        }
    };
    RocketPocketGame.prototype.drawGround = function () {
        var highPoint = 100;
        var lowerPoint = 450;
        var groundPoints = [
            new Phaser.Point(0, 600),
            new Phaser.Point(0, 580),
            new Phaser.Point(100, 580) // launch
        ];
        var lineLaunch = new Phaser.Line(0, 585, 100, 585);
        var graphicsLaunch = this.game.add.graphics(0, 0);
        graphicsLaunch.lineStyle(10, 0xffd900, 1);
        graphicsLaunch.moveTo(lineLaunch.start.x, lineLaunch.start.y);
        graphicsLaunch.lineTo(lineLaunch.end.x, lineLaunch.end.y);
        graphicsLaunch.endFill();
        for (var xPoint = 150; xPoint < 1750; xPoint += 50) {
            groundPoints.push(new Phaser.Point(xPoint, (Math.random() * lowerPoint) + highPoint));
        }
        groundPoints.push(new Phaser.Point(1800, 580)); // landing
        groundPoints.push(new Phaser.Point(1900, 580)); // landing
        var lineLanding = new Phaser.Line(1800, 585, 1900, 585);
        var graphicsLanding = this.game.add.graphics(0, 0);
        graphicsLanding.lineStyle(10, 0xE43A45, 1);
        graphicsLanding.moveTo(lineLanding.start.x, lineLanding.start.y);
        graphicsLanding.lineTo(lineLanding.end.x, lineLanding.end.y);
        graphicsLanding.endFill();
        groundPoints.push(new Phaser.Point(1950, (Math.random() * lowerPoint) + highPoint));
        groundPoints.push(new Phaser.Point(2000, (Math.random() * lowerPoint) + highPoint));
        groundPoints.push(new Phaser.Point(2100, 600));
        this.ground = new Phaser.Polygon();
        this.ground.setTo(groundPoints);
    };
    RocketPocketGame.prototype.consumeFuel = function () {
        if (this.fuel > 0) {
            this.fuel -= 1;
        }
    };
    RocketPocketGame.prototype.playRocketSound = function () {
        if (!this.playingSound) {
            this.rocketAudio.play('launching');
            this.playingSound = true;
        }
    };
    RocketPocketGame.prototype.checkExplosion = function () {
        return this.ground.contains(this.rocket.x, this.rocket.y)
            || (this.rocket.body.onFloor() && this.rocket.body.speed > 203);
    };
    RocketPocketGame.prototype.checkVictory = function () {
        return !this.ended && this.rocket.body.onFloor()
            && this.rocket.x > 1800 && this.rocket.x < 1900;
    };
    RocketPocketGame.prototype.isFuelEmpty = function () {
        return this.fuel === 0;
    };
    RocketPocketGame.prototype.launching = function () {
        this.rocket.animations.play('launching');
        this.playRocketSound();
        this.consumeFuel();
    };
    RocketPocketGame.prototype.moving = function () {
        if (this.cursors.up.isDown && !this.isFuelEmpty()) {
            this.rocket.body.acceleration.y = -this.accelerationY;
            this.launching();
        }
        else if (this.cursors.left.isDown && !this.isFuelEmpty()) {
            this.rocket.body.acceleration.x = -this.accelerationX;
            this.launching();
        }
        else if (this.cursors.right.isDown && !this.isFuelEmpty()) {
            this.rocket.body.acceleration.x = this.accelerationX;
            this.launching();
        }
        else {
            this.rocket.body.acceleration.setTo(0, 0);
            this.rocket.frame = 0;
            this.rocket.animations.stop();
            this.rocketAudio.stop();
            this.playingSound = false;
        }
        if (this.rocket.body.onFloor()) {
            this.rocket.body.velocity.x = 0;
        }
        this.fuelText.text = this.fuelLabel + ': ' + this.fuel;
        this.background.tilePosition.x = -this.game.camera.x;
        this.background.tilePosition.y = -this.game.camera.y;
    };
    RocketPocketGame.prototype.freeze = function () {
        this.ended = true;
        this.rocket.body.velocity.x = 0;
        this.rocket.body.velocity.y = 0;
    };
    RocketPocketGame.prototype.exploding = function () {
        this.freeze();
        this.explosion.x = this.rocket.x;
        this.explosion.y = this.rocket.y;
        this.explosion.visible = true;
        this.explosion.animations.play('exploding', 10, false, true);
        this.game.world.remove(this.rocket);
        this.rocketAudio.stop();
        this.rocketExplosion.play('exploding');
        this.gameOver();
    };
    RocketPocketGame.prototype.gameOver = function () {
        this.introText.text = this.gameOverLabel;
        this.introText.visible = true;
        this.restartButton.visible = true;
    };
    RocketPocketGame.prototype.victory = function () {
        this.freeze();
        this.introText.text = this.victoryLabel;
        this.introText.visible = true;
        this.restartButton.visible = true;
    };
    RocketPocketGame.prototype.restart = function () {
        this.fuel = this.fuelDefault;
        this.ended = false;
        this.game.state.restart();
    };
    return RocketPocketGame;
}());
window.onload = function () {
    new RocketPocketGame();
};
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0lBeUJJO1FBeEJBLFVBQUssR0FBWSxLQUFLLENBQUM7UUFDdkIsa0JBQWEsR0FBVyxHQUFHLENBQUM7UUFDNUIsa0JBQWEsR0FBVyxHQUFHLENBQUM7UUFDNUIsZ0JBQVcsR0FBVyxHQUFHLENBQUM7UUFDMUIsY0FBUyxHQUFXLGFBQWEsQ0FBQztRQUNsQyxrQkFBYSxHQUFXLGNBQWMsQ0FBQztRQUN2QyxpQkFBWSxHQUFXLGlCQUFpQixDQUFDO1FBRXpDLFNBQUksR0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ2hDLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQzlCLFVBQUssR0FBWSxLQUFLLENBQUM7UUFlbkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRTtZQUMxRCxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2hDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDOUIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUM5QixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ2pDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxrQ0FBTyxHQUFQO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxD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TUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWpDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUNyQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxFQUFFLEVBQ2hFLEVBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUks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QUFRLEdBQVI7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDdEMsQ0FBQztJQUVELGtDQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFZCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDdEMsQ0FBQztJQUVELGtDQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUNMLHVCQUFDO0FBQUQsQ0EzUUEsQUEyUUMsSUFBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLEdBQUc7SUFDWixJQUFJLGdCQUFnQixFQUFFLENBQUM7QUFDM0IsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCJjbGFzcyBSb2NrZXRQb2NrZXRHYW1lIHtcbiAgICBkZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGFjY2VsZXJhdGlvblg6IG51bWJlciA9IDIwMDtcbiAgICBhY2NlbGVyYXRpb25ZOiBudW1iZXIgPSA0MDA7XG4gICAgZnVlbERlZmF1bHQ6IG51bWJlciA9IDUwMDtcbiAgICBmdWVsTGFiZWw6IHN0cmluZyA9ICdDb21idXN0w612ZWwnO1xuICAgIGdhbWVPdmVyTGFiZWw6IHN0cmluZyA9ICdWb2PDqiBwZXJkZXUhJztcbiAgICB2aWN0b3J5TGFiZWw6IHN0cmluZyA9ICdWb2PDqiBjb25zZWd1aXUhJztcblxuICAgIGZ1ZWw6IG51bWJlciA9IHRoaXMuZnVlbERlZmF1bHQ7XG4gICAgcGxheWluZ1NvdW5kOiBib29sZWFuID0gZmFsc2U7XG4gICAgZW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBnYW1lOiBQaGFzZXIuR2FtZTtcbiAgICBjdXJzb3JzOiBQaGFzZXIuQ3Vyc29yS2V5cztcbiAgICByb2NrZXQ6IFBoYXNlci5TcHJpdGU7XG4gICAgZXhwbG9zaW9uOiBQaGFzZXIuU3ByaXRlO1xuICAgIHJvY2tldEF1ZGlvOiBQaGFzZXIuQXVkaW9TcHJpdGU7XG4gICAgcm9ja2V0RXhwbG9zaW9uOiBQaGFzZXIuQXVkaW9TcHJpdGU7XG4gICAgZnVlbFRleHQ6IFBoYXNlci5UZXh0O1xuICAgIGJhY2tncm91bmQ6IFBoYXNlci5UaWxlU3ByaXRlO1xuICAgIGdyb3VuZDogUGhhc2VyLlBvbHlnb247XG4gICAgZ3JhcGhpY3M6IFBoYXNlci5HcmFwaGljcztcbiAgICBpbnRyb1RleHQ6IFBoYXNlci5UZXh0O1xuICAgIHJlc3RhcnRCdXR0b246IFBoYXNlci5CdXR0b247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IFBoYXNlci5HYW1lKDgwMCwgNjAwLCBQaGFzZXIuQVVUTywgJ2NvbnRlbnQnLCB7XG4gICAgICAgICAgICBwcmVsb2FkOiB0aGlzLnByZWxvYWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGNyZWF0ZTogdGhpcy5jcmVhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHJlbmRlcjogdGhpcy5yZW5kZXIuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICB0aGlzLmdhbWUubG9hZC5zcHJpdGVzaGVldCgncm9ja2V0JywgJ2ltZy9yb2NrZXQucG5nJywgNTAsIDc1LCAzKTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ2V4cGxvc2lvbicsICdpbWcvZXhwbG9zaW9uLnBuZycsIDY0LCA2NCwgMjMpO1xuICAgICAgICB0aGlzLmdhbWUubG9hZC5zcHJpdGVzaGVldCgncmVzdGFydC1idXR0b24nLCAnaW1nL3Jlc3RhcnQtYnV0dG9uLnBuZycsIDk2LCA0MCk7XG5cbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnaW1nL2x1bmFyLWJhY2tncm91bmQucG5nJyk7XG5cbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuYXVkaW8oJ3JvY2tldC1hdWRpbycsIFsnYXVkaW8vcm9ja2V0LWxhdW5jaC5tcDMnXSk7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLmF1ZGlvKCdyb2NrZXQtZXhwbG9zaW9uJywgWydhdWRpby9yb2NrZXQtZXhwbG9zaW9uLm1wMyddKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzJkMmQyZCc7XG4gICAgICAgIHRoaXMuZ2FtZS5waHlzaWNzLnN0YXJ0U3lzdGVtKFBoYXNlci5QaHlzaWNzLkFSQ0FERSk7XG5cbiAgICAgICAgdGhpcy5jdXJzb3JzID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmdhbWUuYWRkLnRpbGVTcHJpdGUoMCwgMCwgODAwLCA2MDAsICdiYWNrZ3JvdW5kJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5maXhlZFRvQ2FtZXJhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nYW1lLndvcmxkLnNldEJvdW5kcygwLCAwLCAyMDAwLCA2MDApO1xuXG4gICAgICAgIHRoaXMucm9ja2V0QXVkaW8gPSB0aGlzLmdhbWUuYWRkLmF1ZGlvKCdyb2NrZXQtYXVkaW8nLCAxLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb2NrZXRBdWRpby5hbGxvd011bHRpcGxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucm9ja2V0QXVkaW8uYWRkTWFya2VyKCdsYXVuY2hpbmcnLCAwLCAxMCk7XG5cbiAgICAgICAgdGhpcy5yb2NrZXRFeHBsb3Npb24gPSB0aGlzLmdhbWUuYWRkLmF1ZGlvKCdyb2NrZXQtZXhwbG9zaW9uJywgMSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMucm9ja2V0RXhwbG9zaW9uLmFsbG93TXVsdGlwbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yb2NrZXRFeHBsb3Npb24uYWRkTWFya2VyKCdleHBsb2RpbmcnLCAwLCAxMCk7XG5cbiAgICAgICAgdGhpcy5mdWVsVGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCgzMiwgMzIsIHRoaXMuZnVlbExhYmVsICsgJzogJyArIHRoaXMuZnVlbCwge1xuICAgICAgICAgICAgZm9udDogXCIyMHB4IEFyaWFsXCIsXG4gICAgICAgICAgICBmaWxsOiBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mdWVsVGV4dC5maXhlZFRvQ2FtZXJhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mdWVsVGV4dC5jYW1lcmFPZmZzZXQuc2V0VG8oMzIsIDMyKTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzID0gdGhpcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwKTtcbiAgICAgICAgdGhpcy5kcmF3R3JvdW5kKCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3MuYmVnaW5GaWxsKDB4OGU4ZThlKTtcbiAgICAgICAgdGhpcy5ncmFwaGljcy5kcmF3UG9seWdvbih0aGlzLmdyb3VuZC5wb2ludHMpO1xuICAgICAgICB0aGlzLmdyYXBoaWNzLmVuZEZpbGwoKTtcblxuICAgICAgICB0aGlzLnJvY2tldCA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKDUwLCAxNTEyLCAncm9ja2V0Jyk7XG4gICAgICAgIHRoaXMucm9ja2V0LmFuaW1hdGlvbnMuYWRkKCdsYXVuY2hpbmcnLCBbMSwgMiwgM10sIDEwLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb2NrZXQuYW5jaG9yID0gbmV3IFBoYXNlci5Qb2ludCgwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMuZ2FtZS5waHlzaWNzLmVuYWJsZShbdGhpcy5yb2NrZXRdLCBQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXG4gICAgICAgIHRoaXMucm9ja2V0LmJvZHkuYm91bmNlLnNldCgwKTtcbiAgICAgICAgdGhpcy5yb2NrZXQuYm9keS5ncmF2aXR5LnNldCgwLCAxODApO1xuICAgICAgICB0aGlzLnJvY2tldC5ib2R5LnZlbG9jaXR5LnNldFRvKDAsIDIwMCk7XG4gICAgICAgIHRoaXMucm9ja2V0LmJvZHkuY29sbGlkZVdvcmxkQm91bmRzID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmdhbWUuY2FtZXJhLmZvbGxvdyh0aGlzLnJvY2tldCk7XG4gICAgICAgIHRoaXMuZ2FtZS5jYW1lcmEuZGVhZHpvbmUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZSgxNTAsIDE1MCwgNTAwLCAwKTtcbiAgICAgICAgdGhpcy5nYW1lLmNhbWVyYS5mb2N1c09uWFkoMCwgMCk7XG5cbiAgICAgICAgdGhpcy5leHBsb3Npb24gPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAwLCAnZXhwbG9zaW9uJyk7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uLmFuY2hvciA9IG5ldyBQaGFzZXIuUG9pbnQoMC41LCAwLjUpO1xuICAgICAgICB0aGlzLmV4cGxvc2lvbi5hbmltYXRpb25zLmFkZCgnZXhwbG9kaW5nJyxcbiAgICAgICAgICAgIEFycmF5LmFwcGx5KG51bGwsIHtsZW5ndGg6IDIzfSkubWFwKE51bWJlci5jYWxsLCBOdW1iZXIpLCAxMCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmV4cGxvc2lvbi52aXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pbnRyb1RleHQgPSB0aGlzLmdhbWUuYWRkLnRleHQoNDAwLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgJycsXG4gICAgICAgICAgICB7Zm9udDogXCI0MHB4IEFyaWFsXCIsIGZpbGw6IFwiI2ZmZmZmZlwiLCBhbGlnbjogXCJjZW50ZXJcIn0pO1xuICAgICAgICB0aGlzLmludHJvVGV4dC5hbmNob3IgPSBuZXcgUGhhc2VyLlBvaW50KDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5pbnRyb1RleHQuZml4ZWRUb0NhbWVyYSA9IHRydWU7XG4gICAgICAgIHRoaXMuaW50cm9UZXh0LnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlc3RhcnRCdXR0b24gPSB0aGlzLmdhbWUuYWRkLmJ1dHRvbig0MDAsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZICsgNTAsICdyZXN0YXJ0LWJ1dHRvbicsIHRoaXMucmVzdGFydCwgdGhpcywgMiwgMSwgMCk7XG4gICAgICAgIHRoaXMucmVzdGFydEJ1dHRvbi5hbmNob3IgPSBuZXcgUGhhc2VyLlBvaW50KDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0QnV0dG9uLmZpeGVkVG9DYW1lcmEgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlc3RhcnRCdXR0b24udmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZGVkICYmIHRoaXMuY2hlY2tFeHBsb3Npb24oKSkge1xuICAgICAgICAgICAgdGhpcy5leHBsb2RpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5lbmRlZCAmJiB0aGlzLmNoZWNrVmljdG9yeSgpKSB7XG4gICAgICAgICAgICB0aGlzLnZpY3RvcnkoKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kZWJ1Zy5ib2R5SW5mbyh0aGlzLnJvY2tldCwgMzIsIDMyKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kZWJ1Zy5ib2R5KHRoaXMucm9ja2V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdHcm91bmQoKSB7XG4gICAgICAgIGxldCBoaWdoUG9pbnQgPSAxMDA7XG4gICAgICAgIGxldCBsb3dlclBvaW50ID0gNDUwO1xuICAgICAgICBsZXQgZ3JvdW5kUG9pbnRzID0gW1xuICAgICAgICAgICAgbmV3IFBoYXNlci5Qb2ludCgwLCA2MDApLFxuICAgICAgICAgICAgbmV3IFBoYXNlci5Qb2ludCgwLCA1ODApLCAvLyBsYXVuY2hcbiAgICAgICAgICAgIG5ldyBQaGFzZXIuUG9pbnQoMTAwLCA1ODApICAvLyBsYXVuY2hcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgbGluZUxhdW5jaCA9IG5ldyBQaGFzZXIuTGluZSgwLCA1ODUsIDEwMCwgNTg1KTtcbiAgICAgICAgbGV0IGdyYXBoaWNzTGF1bmNoID0gdGhpcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwKTtcbiAgICAgICAgZ3JhcGhpY3NMYXVuY2gubGluZVN0eWxlKDEwLCAweGZmZDkwMCwgMSk7XG4gICAgICAgIGdyYXBoaWNzTGF1bmNoLm1vdmVUbyhsaW5lTGF1bmNoLnN0YXJ0LngsIGxpbmVMYXVuY2guc3RhcnQueSk7XG4gICAgICAgIGdyYXBoaWNzTGF1bmNoLmxpbmVUbyhsaW5lTGF1bmNoLmVuZC54LCBsaW5lTGF1bmNoLmVuZC55KTtcbiAgICAgICAgZ3JhcGhpY3NMYXVuY2guZW5kRmlsbCgpO1xuXG4gICAgICAgIGZvciAobGV0IHhQb2ludCA9IDE1MDsgeFBvaW50IDwgMTc1MDsgeFBvaW50ICs9IDUwKSB7XG4gICAgICAgICAgICBncm91bmRQb2ludHMucHVzaChuZXcgUGhhc2VyLlBvaW50KHhQb2ludCwgKE1hdGgucmFuZG9tKCkgKiBsb3dlclBvaW50KSArIGhpZ2hQb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdW5kUG9pbnRzLnB1c2gobmV3IFBoYXNlci5Qb2ludCgxODAwLCA1ODApKTsgLy8gbGFuZGluZ1xuICAgICAgICBncm91bmRQb2ludHMucHVzaChuZXcgUGhhc2VyLlBvaW50KDE5MDAsIDU4MCkpOyAvLyBsYW5kaW5nXG5cbiAgICAgICAgbGV0IGxpbmVMYW5kaW5nID0gbmV3IFBoYXNlci5MaW5lKDE4MDAsIDU4NSwgMTkwMCwgNTg1KTtcbiAgICAgICAgbGV0IGdyYXBoaWNzTGFuZGluZyA9IHRoaXMuZ2FtZS5hZGQuZ3JhcGhpY3MoMCwgMCk7XG4gICAgICAgIGdyYXBoaWNzTGFuZGluZy5saW5lU3R5bGUoMTAsIDB4RTQzQTQ1LCAxKTtcbiAgICAgICAgZ3JhcGhpY3NMYW5kaW5nLm1vdmVUbyhsaW5lTGFuZGluZy5zdGFydC54LCBsaW5lTGFuZGluZy5zdGFydC55KTtcbiAgICAgICAgZ3JhcGhpY3NMYW5kaW5nLmxpbmVUbyhsaW5lTGFuZGluZy5lbmQueCwgbGluZUxhbmRpbmcuZW5kLnkpO1xuICAgICAgICBncmFwaGljc0xhbmRpbmcuZW5kRmlsbCgpO1xuXG4gICAgICAgIGdyb3VuZFBvaW50cy5wdXNoKG5ldyBQaGFzZXIuUG9pbnQoMTk1MCwgKE1hdGgucmFuZG9tKCkgKiBsb3dlclBvaW50KSArIGhpZ2hQb2ludCkpO1xuICAgICAgICBncm91bmRQb2ludHMucHVzaChuZXcgUGhhc2VyLlBvaW50KDIwMDAsIChNYXRoLnJhbmRvbSgpICogbG93ZXJQb2ludCkgKyBoaWdoUG9pbnQpKTtcbiAgICAgICAgZ3JvdW5kUG9pbnRzLnB1c2gobmV3IFBoYXNlci5Qb2ludCgyMTAwLCA2MDApKTtcblxuICAgICAgICB0aGlzLmdyb3VuZCA9IG5ldyBQaGFzZXIuUG9seWdvbigpO1xuICAgICAgICB0aGlzLmdyb3VuZC5zZXRUbyhncm91bmRQb2ludHMpO1xuICAgIH1cblxuICAgIGNvbnN1bWVGdWVsKCkge1xuICAgICAgICBpZiAodGhpcy5mdWVsID4gMCkge1xuICAgICAgICAgICAgdGhpcy5mdWVsIC09IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5Um9ja2V0U291bmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nU291bmQpIHtcbiAgICAgICAgICAgIHRoaXMucm9ja2V0QXVkaW8ucGxheSgnbGF1bmNoaW5nJyk7XG4gICAgICAgICAgICB0aGlzLnBsYXlpbmdTb3VuZCA9IHRydWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrRXhwbG9zaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91bmQuY29udGFpbnModGhpcy5yb2NrZXQueCwgdGhpcy5yb2NrZXQueSlcbiAgICAgICAgICAgIHx8ICh0aGlzLnJvY2tldC5ib2R5Lm9uRmxvb3IoKSAmJiB0aGlzLnJvY2tldC5ib2R5LnNwZWVkID4gMjAzKVxuICAgIH1cblxuICAgIGNoZWNrVmljdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuZGVkICYmIHRoaXMucm9ja2V0LmJvZHkub25GbG9vcigpXG4gICAgICAgICAgICAmJiB0aGlzLnJvY2tldC54ID4gMTgwMCAmJiB0aGlzLnJvY2tldC54IDwgMTkwMFxuICAgIH1cblxuICAgIGlzRnVlbEVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mdWVsID09PSAwO1xuICAgIH1cblxuICAgIGxhdW5jaGluZygpIHtcbiAgICAgICAgdGhpcy5yb2NrZXQuYW5pbWF0aW9ucy5wbGF5KCdsYXVuY2hpbmcnKTtcbiAgICAgICAgdGhpcy5wbGF5Um9ja2V0U291bmQoKTtcbiAgICAgICAgdGhpcy5jb25zdW1lRnVlbCgpO1xuICAgIH1cblxuICAgIG1vdmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cC5pc0Rvd24gJiYgIXRoaXMuaXNGdWVsRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5yb2NrZXQuYm9keS5hY2NlbGVyYXRpb24ueSA9IC10aGlzLmFjY2VsZXJhdGlvblk7XG4gICAgICAgICAgICB0aGlzLmxhdW5jaGluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0LmlzRG93biAmJiAhdGhpcy5pc0Z1ZWxFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnJvY2tldC5ib2R5LmFjY2VsZXJhdGlvbi54ID0gLXRoaXMuYWNjZWxlcmF0aW9uWDtcbiAgICAgICAgICAgIHRoaXMubGF1bmNoaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLnJpZ2h0LmlzRG93biAmJiAhdGhpcy5pc0Z1ZWxFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnJvY2tldC5ib2R5LmFjY2VsZXJhdGlvbi54ID0gdGhpcy5hY2NlbGVyYXRpb25YO1xuICAgICAgICAgICAgdGhpcy5sYXVuY2hpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9ja2V0LmJvZHkuYWNjZWxlcmF0aW9uLnNldFRvKDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yb2NrZXQuZnJhbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5yb2NrZXQuYW5pbWF0aW9ucy5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLnJvY2tldEF1ZGlvLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMucGxheWluZ1NvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yb2NrZXQuYm9keS5vbkZsb29yKCkpIHtcbiAgICAgICAgICAgIHRoaXMucm9ja2V0LmJvZHkudmVsb2NpdHkueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZ1ZWxUZXh0LnRleHQgPSB0aGlzLmZ1ZWxMYWJlbCArICc6ICcgKyB0aGlzLmZ1ZWw7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC50aWxlUG9zaXRpb24ueCA9IC10aGlzLmdhbWUuY2FtZXJhLng7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC50aWxlUG9zaXRpb24ueSA9IC10aGlzLmdhbWUuY2FtZXJhLnk7XG4gICAgfVxuXG4gICAgZnJlZXplKCkge1xuICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yb2NrZXQuYm9keS52ZWxvY2l0eS54ID0gMDtcbiAgICAgICAgdGhpcy5yb2NrZXQuYm9keS52ZWxvY2l0eS55ID0gMDtcbiAgICB9XG5cbiAgICBleHBsb2RpbmcoKSB7XG4gICAgICAgIHRoaXMuZnJlZXplKCk7XG5cbiAgICAgICAgdGhpcy5leHBsb3Npb24ueCA9IHRoaXMucm9ja2V0Lng7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uLnkgPSB0aGlzLnJvY2tldC55O1xuICAgICAgICB0aGlzLmV4cGxvc2lvbi52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmV4cGxvc2lvbi5hbmltYXRpb25zLnBsYXkoJ2V4cGxvZGluZycsIDEwLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5nYW1lLndvcmxkLnJlbW92ZSh0aGlzLnJvY2tldCk7XG4gICAgICAgIHRoaXMucm9ja2V0QXVkaW8uc3RvcCgpO1xuXG4gICAgICAgIHRoaXMucm9ja2V0RXhwbG9zaW9uLnBsYXkoJ2V4cGxvZGluZycpO1xuXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcbiAgICB9XG5cbiAgICBnYW1lT3ZlcigpIHtcbiAgICAgICAgdGhpcy5pbnRyb1RleHQudGV4dCA9IHRoaXMuZ2FtZU92ZXJMYWJlbDtcbiAgICAgICAgdGhpcy5pbnRyb1RleHQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVzdGFydEJ1dHRvbi52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2aWN0b3J5KCkge1xuICAgICAgICB0aGlzLmZyZWV6ZSgpO1xuXG4gICAgICAgIHRoaXMuaW50cm9UZXh0LnRleHQgPSB0aGlzLnZpY3RvcnlMYWJlbDtcbiAgICAgICAgdGhpcy5pbnRyb1RleHQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVzdGFydEJ1dHRvbi52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICB0aGlzLmZ1ZWwgPSB0aGlzLmZ1ZWxEZWZhdWx0O1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5nYW1lLnN0YXRlLnJlc3RhcnQoKTtcbiAgICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgbmV3IFJvY2tldFBvY2tldEdhbWUoKTtcbn07Il19
